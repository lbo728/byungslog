---
import { supabase } from "../lib/supabase";

import WriteLayout from "../layout/WriteLayout.astro";
import LoginModal from "../component/LoginModal.astro";
import Editor from "../component/Editor.astro";

import "../style/markdown.css";

const {
  data: { user },
} = await supabase.auth.getUser();

const savedTitle = "";
const savedContent = "";
const savedTags: string[] = [];
---

<WriteLayout title="Write Post">
  <LoginModal isVisible={!user} />
  <Editor
    savedTitle={savedTitle}
    savedContent={savedContent}
    savedTags={savedTags}
  />
</WriteLayout>
